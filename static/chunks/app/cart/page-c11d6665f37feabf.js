(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{1171:(e,s,l)=>{Promise.resolve().then(l.bind(l,25138))},25138:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>g});var a=l(95155),t=l(12115),d=l(49236),r=l(62928);let i=e=>{let{items:s,handleAddOrRemoveToCart:l}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Items"}),s.map(e=>{var s,t,i,n,c,x,o,m,u,h,p,v;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6 p-6 border rounded-lg shadow-sm hover:shadow-md transition-all duration-300 bg-white",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:d.MAIN_URL+(null==e?void 0:null===(s=e.product)||void 0===s?void 0:s.image),alt:null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.name,className:"w-28 h-28 object-cover rounded-md"}),(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-primary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:null==e?void 0:e.quantity})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:null==e?void 0:null===(i=e.product)||void 0===i?void 0:i.name}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:(null==e?void 0:null===(n=e.product)||void 0===n?void 0:n.category)&&"string"==typeof(null==e?void 0:null===(c=e.product)||void 0===c?void 0:c.category)?(0,a.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:null==e?void 0:null===(x=e.product)||void 0===x?void 0:x.category}):(null==e?void 0:null===(m=e.product)||void 0===m?void 0:null===(o=m.category)||void 0===o?void 0:o.name)?(0,a.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:null==e?void 0:null===(h=e.product)||void 0===h?void 0:null===(u=h.category)||void 0===u?void 0:u.name}):null}),(0,a.jsxs)("p",{className:"font-medium text-primary text-lg",children:["₹",null==e?void 0:null===(p=e.product)||void 0===p?void 0:p.price]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Quantity"}),(0,a.jsx)(r.A,{handleAddOrRemoveToCart:l,quantity:null==e?void 0:e.quantity,itemId:null==e?void 0:e.id,data:e}),(0,a.jsxs)("p",{className:"text-sm font-medium mt-2",children:["Total: ₹",((null==e?void 0:null===(v=e.product)||void 0===v?void 0:v.price)*(null==e?void 0:e.quantity)).toFixed(2)]})]})]},null==e?void 0:e.id)})]})};var n=l(14085),c=l(8102),x=l(5870),o=l(48173),m=l.n(o);let u=e=>{let{subtotal:s,shippingCost:l,discount:t,total:d}=e;return(0,a.jsxs)("div",{className:"border rounded-lg p-6 space-y-6 sticky top-4 shadow-sm bg-white",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"Order Summary"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",s>0?s:"0.00"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,a.jsx)("span",{className:"font-medium",children:0===l?(0,a.jsx)("span",{className:"text-green-600",children:"Free"}):"₹".concat("number"==typeof l&&l.toFixed(2))})]}),t>0&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Discount"}),(0,a.jsxs)("span",{className:"font-medium text-green-600",children:["-₹","number"==typeof t&&t.toFixed(2)]})]})]}),(0,a.jsx)(c.w,{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,a.jsx)("span",{className:"font-semibold text-lg",children:"Total"}),(0,a.jsxs)("span",{className:"font-bold text-xl text-primary",children:["₹","number"==typeof d?d.toFixed(2):"0.00"]})]}),150>parseFloat(s)?(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)(n.$,{disabled:!0,className:"w-full py-6 text-base font-medium flex items-center justify-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"Proceed to Checkout"]}),(0,a.jsxs)("p",{className:"text-sm text-red-500 mt-2 text-center",children:["Minimum order value should be ₹150 to place an order.",parseFloat(s)>0&&" Add items worth ₹".concat((150-parseFloat(s)).toFixed(2)," more.")]})]}):(0,a.jsx)(m(),{href:"/checkout",children:(0,a.jsxs)(n.$,{className:"w-full py-6 mt-4 text-base font-medium flex items-center justify-center gap-2 transition-all duration-300 hover:scale-[1.02]",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"Proceed to Checkout"]})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Secure checkout powered by PhonePe"})})]})};var h=l(72e3),p=l(6053),v=l(2615);let j=()=>(0,a.jsx)("div",{id:"webcrumbs",children:(0,a.jsxs)("div",{className:"w-full bg-white rounded-lg shadow p-6",children:[" ",(0,a.jsx)("h1",{className:"text-2xl font-title mb-6",children:"Shopping Cart"}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-center gap-4",children:[(0,a.jsxs)("div",{className:"flex w-full lg:w-3/4 flex-col gap-4 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center border border-neutral-300 rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-[60px] h-[60px] bg-neutral-200 rounded-md"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-4 w-[200px] bg-neutral-200 rounded-md mb-2"}),(0,a.jsx)("div",{className:"h-3 w-[150px] bg-neutral-200 rounded-md"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"h-4 w-[60px] bg-neutral-200 rounded-md mb-4"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center border border-neutral-300 rounded-md px-2 py-1",children:[(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200"}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200 mx-2"}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200"})]}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200 rounded-md"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center border border-neutral-300 rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-[60px] h-[60px] bg-neutral-200 rounded-md"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-4 w-[200px] bg-neutral-200 rounded-md mb-2"}),(0,a.jsx)("div",{className:"h-3 w-[150px] bg-neutral-200 rounded-md"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"h-4 w-[60px] bg-neutral-200 rounded-md mb-4"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center border border-neutral-300 rounded-md px-2 py-1",children:[(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200"}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200 mx-2"}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200"})]}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200 rounded-md"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center border border-neutral-300 rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-[60px] h-[60px] bg-neutral-200 rounded-md"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-4 w-[200px] bg-neutral-200 rounded-md mb-2"}),(0,a.jsx)("div",{className:"h-3 w-[150px] bg-neutral-200 rounded-md"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"h-4 w-[60px] bg-neutral-200 rounded-md mb-4"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center border border-neutral-300 rounded-md px-2 py-1",children:[(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200"}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200 mx-2"}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200"})]}),(0,a.jsx)("div",{className:"h-4 w-[20px] bg-neutral-200 rounded-md"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex w-full lg:w-1/4 lg:flex-col justify-between items-start mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-8 bg-neutral-200 rounded-full"}),(0,a.jsx)("div",{className:"h-4 w-[150px] bg-neutral-200 rounded-md"})]}),(0,a.jsxs)("div",{className:"border border-neutral-300 rounded-md p-4 w-[300px] animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 w-[150px] bg-neutral-200 rounded-md mb-6"}),(0,a.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,a.jsx)("div",{className:"h-4 w-[80px] bg-neutral-200 rounded-md"}),(0,a.jsx)("div",{className:"h-4 w-[50px] bg-neutral-200 rounded-md"})]}),(0,a.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,a.jsx)("div",{className:"h-4 w-[80px] bg-neutral-200 rounded-md"}),(0,a.jsx)("div",{className:"h-4 w-[50px] bg-neutral-200 rounded-md"})]}),(0,a.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,a.jsx)("div",{className:"h-4 w-[100px] bg-neutral-200 rounded-md"}),(0,a.jsx)("div",{className:"h-4 w-[50px] bg-neutral-200 rounded-md"})]}),(0,a.jsx)("div",{className:"h-10 bg-neutral-200 rounded-md"})]})]})]})]})});var N=l(1468);let g=()=>{var e,s,l,r;let{read:c,error:o}=(0,p.A)(d.MAIN_URL),{data:g,update:f,loading:b,error:w}=(0,p.A)(d.MAIN_URL),[y,A]=(0,t.useState)({}),{status:S}=(0,v.useSession)(),[k,F]=(0,t.useState)({}),[_,C]=(0,t.useState)(!1),q=(0,N.A)("local");(0,t.useEffect)(()=>{(()=>{try{var e;let s=null!==(e=q.getItem("promotion"))&&void 0!==e?e:"{}",l=JSON.parse(s);l&&Object.keys(l).length>0&&A(l)}catch(e){console.error("Error reading promotion from localStorage:",e)}})()},[q]);let M=async()=>{try{C(!0);let e=await c(d.jx);e.total_items>0&&F(e)}catch(e){}finally{C(!1)}};(0,t.useEffect)(()=>{"authenticated"===S&&M()},[S]);let O=(0,t.useMemo)(()=>Array.isArray(null==k?void 0:k.items)&&(null==k?void 0:k.items.length)!==0?null==k?void 0:k.items.reduce((e,s)=>e+parseFloat(s.product.price)*s.quantity,0):0,[null==k?void 0:k.items]),P=O.toFixed(2),R=O>500?0:29.99,E=O+R;(null==y?void 0:y.discount)&&(E-=Number(null==y?void 0:y.discount)),E=Math.max(0,E);let I=async(e,s)=>{try{await f(d.tb,{item_id:e,action:s})&&F(l=>({...l,items:"delete"===s?l.items.filter(s=>s.id!==e):l.items.map(l=>l.id===e?{...l,quantity:"add"===s?l.quantity+1:l.quantity-1}:l)}))}catch(e){console.error("Failed to update cart:",e)}};return _?(0,a.jsx)(h.A,{children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)(j,{})})}):(0,a.jsx)(h.A,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Your Shopping Cart"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:(null==k?void 0:null===(e=k.items)||void 0===e?void 0:e.length)>0&&"".concat(k.items.length," item").concat(k.items.length>1?"s":""," in your cart")})]}),(null==k?void 0:null===(s=k.items)||void 0===s?void 0:s.length)?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 transition-all duration-300",children:(0,a.jsx)(i,{handleAddOrRemoveToCart:I,items:null!==(l=null==k?void 0:k.items)&&void 0!==l?l:[]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(m(),{href:"/shop",children:(0,a.jsxs)(n.$,{variant:"outline",className:"flex items-center gap-2 px-6 py-5 transition-all duration-300 hover:bg-gray-100",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Continue Shopping"]})}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Prices are inclusive of all taxes"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(u,{subtotal:null!=P?P:0,shippingCost:null!=R?R:0,discount:null!==(r=null==y?void 0:y.discount)&&void 0!==r?r:0,total:E})})]}):(0,a.jsxs)("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm p-12 max-w-2xl mx-auto",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(x.A,{className:"h-16 w-16 text-gray-300"})}),(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-gray-500 mb-8",children:"Looks like you haven't added anything to your cart yet."}),(0,a.jsx)(m(),{href:"/shop",children:(0,a.jsxs)(n.$,{className:"px-8 py-6 text-base",children:[(0,a.jsx)(x.A,{className:"mr-2 h-5 w-5"}),"Start Shopping"]})})]})]})})}},8102:(e,s,l)=>{"use strict";l.d(s,{w:()=>x});var a=l(95155),t=l(12115),d=l(23360),r="horizontal",i=["horizontal","vertical"],n=t.forwardRef((e,s)=>{let{decorative:l,orientation:t=r,...n}=e,c=i.includes(t)?t:r;return(0,a.jsx)(d.sG.div,{"data-orientation":c,...l?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...n,ref:s})});n.displayName="Separator";var c=l(29602);let x=t.forwardRef((e,s)=>{let{className:l,orientation:t="horizontal",decorative:d=!0,...r}=e;return(0,a.jsx)(n,{ref:s,decorative:d,orientation:t,className:(0,c.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",l),...r})});x.displayName=n.displayName},72e3:(e,s,l)=>{"use strict";l.d(s,{A:()=>u});var a=l(95155),t=l(79918),d=l(50823),r=l(82572),i=l(12115),n=l(76046),c=l(87364),x=l(48173),o=l.n(x);let m=e=>{let{children:s}=e,l=(0,n.useSearchParams)().get("callbackUrl");return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-theme-homepage w-full",children:[(0,a.jsx)(r.A,{}),(0,a.jsxs)("div",{className:"w-full max-w-full mx-auto px-4 sm:px-6 lg:px-8 flex-grow",children:[!!l&&(0,a.jsx)("div",{className:"my-3 flex items-center",children:(0,a.jsxs)(o(),{href:"string"==typeof l?null==l?void 0:l.slice(1):"/",className:"flex items-center gap-1 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Back"})]})}),s]}),(0,a.jsx)(d.A,{}),(0,a.jsx)(t.l,{})]})},u=e=>{let{children:s}=e;return(0,a.jsx)(i.Suspense,{children:(0,a.jsx)(m,{children:s})})}},87364:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(67401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1688,2615,8397,9074,9930,9795,3499,5714,8441,1517,7358],()=>s(1171)),_N_E=e.O()}]);