(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{864:(e,s,l)=>{Promise.resolve().then(l.bind(l,63289))},63289:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>w});var t=l(95155),a=l(12115),r=l(8818),i=l(96693),n=l(6053),o=l(49236),c=l(2615),d=l(76046),m=l(94187),u=l(19938),x=l(20241),g=l(48173),h=l.n(g),p=l(79918),b=l(43023),f=l(43132);let y=u.Ik({email:u.Yj().email("Enter a valid email").required("Email is required"),password:u.Yj().min(8,"Password must be at least 8 characters long").required("Password is required")}),j=()=>{var e;let{status:s}=(0,c.useSession)(),{create:l,error:u,data:g}=(0,n.A)(o.MAIN_URL),{toast:j}=(0,x.dj)(),w=(0,d.useRouter)(),v=null!==(e=(0,d.useSearchParams)().get("callbackUrl"))&&void 0!==e?e:"/";(0,a.useEffect)(()=>{"authenticated"===s&&w.push(null!=v?v:"/")},[s,w,v]);let N=async(e,s)=>{let{setSubmitting:t}=s;t(!0);try{let s=await l(o.K,e);if(null==s?void 0:s.id)j({title:"Login successful",description:"Redirecting you..."}),setTimeout(()=>{(0,c.signIn)("credentials",{...s,callbackUrl:null!=v?v:"/"})},500);else{let e="Login failed. Please check your credentials.";try{if("string"==typeof s){let l=JSON.parse(s);e=Object.keys(l).map(e=>l[e]).join(", ")}}catch(e){console.error("Error parsing login response:",e)}j({title:"Login Error",description:e,variant:"destructive"}),t(!1)}}catch(e){console.error("Login error:",e),j({title:"Login Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),t(!1)}};return"loading"===s?(0,t.jsx)("div",{className:"flex w-full h-screen justify-center items-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(b.A,{size:"lg",color:"border-t-blue-600"}),(0,t.jsx)("p",{className:"text-gray-600 animate-pulse",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"flex justify-center items-center h-screen w-full bg-gray-50",children:[(0,t.jsxs)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col w-4/5 md:w-[30rem] mx-auto p-4 md:p-8 bg-white rounded-2xl shadow-xl border border-gray-100",children:[(0,t.jsxs)(f.P.div,{className:"flex flex-row gap-3 pb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:[(0,t.jsx)("div",{className:"p-2 bg-blue-50 rounded-lg",children:(0,t.jsx)("img",{src:"/logotriumph.png",alt:"Logo",width:"40",className:"drop-shadow-sm"})}),(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 my-auto",children:"TRIUMPH ENTERPRISES"})]}),(0,t.jsx)(f.P.div,{className:"text-sm font-light text-gray-600 pb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},children:"Welcome back! Sign in to your account to continue."}),(0,t.jsx)(m.l1,{initialValues:{email:"",password:""},validationSchema:y,onSubmit:N,children:e=>{let{isSubmitting:s}=e;return(0,t.jsxs)(m.lV,{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"pb-2",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-[#111827]",children:"Email"}),(0,t.jsxs)("div",{className:"relative text-gray-400",children:[(0,t.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center p-1 pl-3",children:(0,t.jsx)(r.A,{})}),(0,t.jsx)(m.D0,{type:"email",name:"email",className:"pl-12 mb-2 bg-gray-50 text-gray-600 border border-gray-300 sm:text-sm rounded-lg focus:ring-2 focus:outline-none focus:ring-blue-300 focus:border-blue-500 block w-full p-2.5 py-3 px-4 transition-all duration-300",placeholder:"name@company.com"}),(0,t.jsx)(m.Kw,{name:"email",component:"p",className:"text-red-500 text-xs mt-1"})]})]}),(0,t.jsxs)("div",{className:"pb-6",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-[#111827]",children:"Password"}),(0,t.jsxs)("div",{className:"relative text-gray-400",children:[(0,t.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center p-1 pl-3",children:(0,t.jsx)(i.A,{})}),(0,t.jsx)(m.D0,{type:"password",name:"password",className:"pl-12 mb-2 bg-gray-50 text-gray-600 border border-gray-300 sm:text-sm rounded-lg focus:ring-2 focus:outline-none focus:ring-blue-300 focus:border-blue-500 block w-full p-2.5 py-3 px-4 transition-all duration-300",placeholder:"••••••••••"}),(0,t.jsx)(m.Kw,{name:"password",component:"p",className:"text-red-500 text-xs mt-1"})]})]}),(0,t.jsx)(f.P.button,{type:"submit",className:"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 text-center mb-6 transition-all duration-300 shadow-md hover:shadow-lg flex justify-center items-center gap-2",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.A,{size:"sm",color:"border-t-white"}),(0,t.jsx)("span",{children:"Signing in..."})]}):"Sign in"}),(0,t.jsxs)("div",{className:"text-sm font-light text-gray-600 text-center",children:["No account?"," ",(0,t.jsx)(f.P.div,{className:"inline-block",whileHover:{scale:1.05},children:(0,t.jsx)(h(),{href:"/auth/signup",className:"font-medium text-blue-600 hover:text-blue-800 transition-colors duration-300",children:"Sign up now"})})]})]})}}),(0,t.jsxs)("div",{className:"relative flex py-8 items-center",children:[(0,t.jsx)("div",{className:"flex-grow border-t border-[1px] border-gray-200"}),(0,t.jsx)("span",{className:"flex-shrink mx-4 font-medium text-gray-500",children:"OR"}),(0,t.jsx)("div",{className:"flex-grow border-t border-[1px] border-gray-200"})]}),(0,t.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,t.jsx)("div",{className:"flex flex-row gap-2 justify-center",children:(0,t.jsxs)(f.P.button,{onClick:()=>{let e=document.getElementById("google-signin-button");e&&e.classList.add("animate-pulse"),(0,c.signIn)("google",{callbackUrl:null!=v?v:"/"})},id:"google-signin-button",className:"flex flex-row w-full gap-2 bg-white border border-gray-300 p-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-all duration-300 shadow-sm hover:shadow-md",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,t.jsx)("img",{src:"/google-icon.svg",alt:"Google",className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium mx-auto",children:"Continue with Google"})]})})})]}),(0,t.jsx)(p.l,{})]})},w=()=>(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(j,{})})},43023:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});var t=l(95155);l(12115);let a=e=>{let{size:s="md",color:l="border-t-blue-600"}=e;return(0,t.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[s]," rounded-full border-2 border-gray-200 ").concat(l," animate-spin")})}},8818:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});let t=(0,l(67401).A)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]])},96693:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});let t=(0,l(67401).A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[2615,8397,9074,9930,3132,320,3499,8441,1517,7358],()=>s(864)),_N_E=e.O()}]);