(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3258],{16598:(e,s,l)=>{Promise.resolve().then(l.bind(l,88492))},88492:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>b});var a=l(95155),i=l(12115),r=l(76046),t=l(72e3),d=l(14085),n=l(89134),c=l(6053),o=l(49236),x=l(2615),u=l(76740),m=l(8102),h=l(87364),p=l(35844),v=l(44857),j=l(5870),f=l(48173),g=l.n(f);let N=()=>{var e,s,l,f,N,b,y,w,_,A;let k=(0,r.useRouter)(),E=(0,r.useSearchParams)().get("order_id"),{toast:S}=(0,n.d)(),{status:D}=(0,x.useSession)(),{read:P,data:I,loading:R}=(0,c.A)(o.MAIN_URL),[C,L]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(!E){S({title:"Error",description:"No order ID provided"}),k.push("/");return}"authenticated"===D?F():"unauthenticated"===D&&k.push("/auth/login")},[E,D]);let F=async()=>{try{let e=await P("".concat(o.gf).concat(E,"/"));L(e)}catch(e){console.error("Error fetching order details:",e),S({title:"Error",description:"Could not fetch order details. Please try again later."})}};return R||!C?(0,a.jsx)(t.default,{children:(0,a.jsx)("div",{className:"container h-96 flex justify-center items-center mx-auto px-4 py-8",children:(0,a.jsx)(u.A,{})})}):(0,a.jsx)(t.default,{children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>k.back(),className:"mr-2",children:(0,a.jsx)(h.A,{className:"h-5 w-5"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Order Details"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6 shadow-sm mb-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["Order #",null==C?void 0:C.id]}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Placed on ",new Date(null==C?void 0:C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"PAID":case"DELIVERED":return"bg-green-100 text-green-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"SHIPPED":return"bg-purple-100 text-purple-800";case"CANCELLED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}})(null==C?void 0:C.status)),children:null==C?void 0:C.status})})]}),(0,a.jsx)(m.w,{className:"my-4"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Shipping Address"}),(0,a.jsxs)("p",{className:"text-sm",children:[null==C?void 0:null===(e=C.shipping_address)||void 0===e?void 0:e.street_address,(0,a.jsx)("br",{}),null==C?void 0:null===(s=C.shipping_address)||void 0===s?void 0:s.city,","," ",null==C?void 0:null===(l=C.shipping_address)||void 0===l?void 0:l.state," ",null==C?void 0:null===(f=C.shipping_address)||void 0===f?void 0:f.postal_code,(0,a.jsx)("br",{}),null==C?void 0:null===(N=C.shipping_address)||void 0===N?void 0:N.country]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Billing Address"}),(0,a.jsxs)("p",{className:"text-sm",children:[null==C?void 0:null===(b=C.billing_address)||void 0===b?void 0:b.street_address,(0,a.jsx)("br",{}),null==C?void 0:null===(y=C.billing_address)||void 0===y?void 0:y.city,","," ",null==C?void 0:null===(w=C.billing_address)||void 0===w?void 0:w.state," ",null==C?void 0:null===(_=C.billing_address)||void 0===_?void 0:_.postal_code,(0,a.jsx)("br",{}),null==C?void 0:null===(A=C.billing_address)||void 0===A?void 0:A.country]})]})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6 shadow-sm mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Items"}),(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==C?void 0:C.items)&&(null==C?void 0:C.items.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 border-b pb-4",children:[(0,a.jsx)("img",{src:o.MAIN_URL+e.product_image,alt:e.product_name,className:"w-20 h-20 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.product_name}),e.variant_name&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Variant: ",e.variant_name]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",e.quantity]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium",children:["₹",Number(e.total_price).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["₹",Number(e.unit_price).toFixed(2)," each"]})]})]},e.id)))}),(0,a.jsx)(m.w,{className:"my-4"}),(0,a.jsxs)("div",{className:"space-y-2 ml-auto w-full md:w-1/2 md:ml-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal:"}),(0,a.jsxs)("span",{children:["₹",Number(null==C?void 0:C.subtotal).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Shipping:"}),(0,a.jsxs)("span",{children:["₹",Number(null==C?void 0:C.shipping_cost).toFixed(2)]})]}),(null==C?void 0:C.promo_discount)>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Discount:"}),(0,a.jsxs)("span",{children:["-₹",Number(null==C?void 0:C.promo_discount).toFixed(2)]})]}),(0,a.jsx)(m.w,{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["₹",Number(null==C?void 0:C.total).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(null==C?void 0:C.status)==="SHIPPED"&&(0,a.jsxs)(d.$,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Track Order"]}),(0,a.jsxs)(d.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),"Download Invoice"]}),(0,a.jsx)(g(),{href:"/shop",children:(0,a.jsxs)(d.$,{variant:"secondary",className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),"Continue Shopping"]})})]})]})})})},b=()=>(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(N,{})})},76740:(e,s,l)=>{"use strict";l.d(s,{A:()=>i});var a=l(95155);l(12115);let i=()=>(0,a.jsx)("div",{className:"flex gap-2 flex-wrap justify-center p-4 md:p-12",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-full border-4 border-gray-200 border-t-blue-500 animate-spin"})})},8102:(e,s,l)=>{"use strict";l.d(s,{w:()=>o});var a=l(95155),i=l(12115),r=l(23360),t="horizontal",d=["horizontal","vertical"],n=i.forwardRef((e,s)=>{let{decorative:l,orientation:i=t,...n}=e,c=d.includes(i)?i:t;return(0,a.jsx)(r.sG.div,{"data-orientation":c,...l?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...n,ref:s})});n.displayName="Separator";var c=l(29602);let o=i.forwardRef((e,s)=>{let{className:l,orientation:i="horizontal",decorative:r=!0,...t}=e;return(0,a.jsx)(n,{ref:s,decorative:r,orientation:i,className:(0,c.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",l),...t})});o.displayName=n.displayName},89134:(e,s,l)=>{"use strict";l.d(s,{d:()=>a.dj,o:()=>a.oR});var a=l(20241)},72e3:(e,s,l)=>{"use strict";l.d(s,{default:()=>m});var a=l(95155),i=l(79918),r=l(50823),t=l(82572),d=l(12115),n=l(76046),c=l(87364),o=l(48173),x=l.n(o);let u=e=>{let{children:s}=e,l=(0,n.useSearchParams)().get("callbackUrl");return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-theme-homepage w-full",children:[(0,a.jsx)(t.A,{}),(0,a.jsxs)("div",{className:"w-full max-w-full mx-auto px-4 sm:px-6 lg:px-8 flex-grow",children:[!!l&&(0,a.jsx)("div",{className:"my-3 flex items-center",children:(0,a.jsxs)(x(),{href:"string"==typeof l?null==l?void 0:l.slice(1):"/",className:"flex items-center gap-1 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Back"})]})}),s]}),(0,a.jsx)(r.A,{}),(0,a.jsx)(i.l,{})]})},m=e=>{let{children:s}=e;return(0,a.jsx)(d.Suspense,{children:(0,a.jsx)(u,{children:s})})}},87364:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(67401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},44857:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(67401).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},35844:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(67401).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1688,2615,8397,9074,9930,9795,3499,5714,8441,1517,7358],()=>s(16598)),_N_E=e.O()}]);