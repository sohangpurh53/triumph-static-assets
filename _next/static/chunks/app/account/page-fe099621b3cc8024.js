(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1298],{69246:(e,s,r)=>{Promise.resolve().then(r.bind(r,77492))},77492:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ei});var a=r(95155),t=r(12115),l=r(58629),d=r(29602);let i=l.bL,n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.B8,{color:"cyan",ref:s,className:(0,d.cn)("inline-flex items-center justify-center rounded-xl bg-gray-100/80 p-1.5 text-gray-600 shadow-sm",r),...t})});n.displayName=l.B8.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.l9,{ref:s,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-blue-700 data-[state=active]:shadow-sm hover:bg-gray-50 hover:text-gray-900",r),...t})});o.displayName=l.l9.displayName;let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.UC,{ref:s,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 transition-all duration-300 animate-in fade-in-50",r),...t})});c.displayName=l.UC.displayName;var m=r(14085),x=r(74920);let u=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x.bL,{ref:s,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...t})});u.displayName=x.bL.displayName;let h=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x._V,{ref:s,className:(0,d.cn)("aspect-square h-full w-full",r),...t})});h.displayName=x._V.displayName;let p=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x.H4,{ref:s,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...t})});p.displayName=x.H4.displayName;var g=r(56870),f=r(35007),j=r(60872),v=r(94187),b=r(19938),w=r(88280),N=r(9955),y=r(15785),k=r(12413);let A=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(k.bL,{className:(0,d.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...t,ref:s,children:(0,a.jsx)(k.zi,{className:(0,d.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});A.displayName=k.bL.displayName;var C=r(89134),P=r(40767),L=r(38684),_=r(6053),R=r(49236);let M=b.Ik().shape({name:b.Yj().min(2,"Name must be at least 2 characters").required("Name is required"),email:b.Yj().email("Invalid email address").required("Email is required"),phone:b.Yj().matches(/^((\\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,"Invalid phone number").required("Phone number is required"),dob:b.p6().max(new Date,"Date of birth cannot be in the future").required("Date of birth is required")}),q=b.Ik().shape({currentPassword:b.Yj().min(6,"Current password must be at least 6 characters").required("Current password is required"),newPassword:b.Yj().min(6,"New password must be at least 6 characters").required("New password is required"),confirmPassword:b.Yj().required("Please confirm your new password").oneOf([b.KR("newPassword")],"Passwords must match")}),F=e=>{let{user:s,onClose:r,setUser:l}=e,[d,i]=(0,t.useState)((null==s?void 0:s.display_image_url)?R.MAIN_URL+(null==s?void 0:s.display_image_url):null),[n,o]=(0,t.useState)(!1),[c,x]=(0,t.useState)(!1),{update:u,error:h,loading:p}=(0,_.A)(R.MAIN_URL),g=(0,t.useCallback)((e,s)=>{let r=e[0];if(r){s("profilePhoto",r);let e=new FileReader;e.onloadend=()=>{i(e.result)},e.readAsDataURL(r)}},[]),{getRootProps:f,getInputProps:j,isDragActive:k}=(0,w.VB)({accept:{"image/*":[".jpeg",".jpg",".png",".gif"]},maxFiles:1,onDrop:e=>g(e,()=>{})}),F=async(e,s)=>{let{setSubmitting:a}=s;try{let s=new FormData;e.name&&s.append("name",e.name),e.email&&s.append("email",e.email),e.phone&&s.append("phone_number",e.phone),e.dob&&s.append("date_of_birth",e.dob),e.profilePhoto&&s.append("image",e.profilePhoto),e.currentPassword&&(s.append("current_password",e.currentPassword),s.append("new_password",e.newPassword),s.append("confirm_password",e.confirmPassword));let a=await u(R.if,s);(null==a?void 0:a.id)?((0,C.o)({title:"Success",description:"".concat(c?"Password":"Profile"," updated successfully")}),l(a),r()):(0,C.o)({title:"Error",description:Object.values(a),variant:"destructive"})}catch(e){(0,C.o)({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{a(!1)}},S={name:c?"":s.name,email:c?"":s.email,phone:c?"":s.phone_number||"",dob:c?"":s.date_of_birth||"",currentPassword:"",newPassword:"",confirmPassword:"",profilePhoto:null};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,a.jsx)(y.J,{htmlFor:"password-only",children:"Password Change Only"}),(0,a.jsx)(A,{id:"password-only",checked:c,onCheckedChange:e=>{x(e),o(e)}})]}),!c&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(y.J,{htmlFor:"show-password",children:"Include Password Change"}),(0,a.jsx)(A,{id:"show-password",checked:n,onCheckedChange:o})]}),(0,a.jsx)(v.l1,{initialValues:S,validationSchema:c?q:n?b.Ik().concat(M).concat(q):M,onSubmit:F,enableReinitialize:!0,children:e=>{let{errors:s,touched:t,setFieldValue:l,isSubmitting:o,handleChange:x,values:u}=e;return(0,a.jsxs)(v.lV,{className:"space-y-6",children:[!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{children:"Profile Photo"}),(0,a.jsxs)("div",{...f(),className:"border-2 border-dashed rounded-lg p-4 text-center cursor-pointer\n                      ".concat(k?"border-primary bg-primary/10":"border-gray-300"),children:[(0,a.jsx)("input",{...j(),onChange:e=>{e.target.files&&g([e.target.files[0]],l)}}),d?(0,a.jsxs)("div",{className:"relative w-32 h-32 mx-auto",children:[(0,a.jsx)("img",{src:d,alt:"Preview",className:"w-full h-full object-cover rounded-full"}),(0,a.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),i(null),l("profilePhoto",null)},className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1",children:(0,a.jsx)(P.A,{className:"w-4 h-4"})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(L.A,{className:"w-8 h-8 mb-2 text-gray-500"}),(0,a.jsx)("p",{children:"Drag & drop or click to upload"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(v.D0,{name:"name",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,id:"name",placeholder:"Enter your name"}),s.name&&t.name&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.name})]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(v.D0,{name:"email",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,type:"email",id:"email",placeholder:"Enter your email"}),s.email&&t.email&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.email})]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"phone",children:"Phone"}),(0,a.jsx)(v.D0,{name:"phone",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,id:"phone",placeholder:"Enter your phone number"}),s.phone&&t.phone&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.phone})]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"dob",children:"Date of Birth"}),(0,a.jsx)(v.D0,{name:"dob",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,type:"date",id:"dob"}),s.dob&&t.dob&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.dob})]})}})]})]})]}),(n||c)&&(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Change Password"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,a.jsx)(v.D0,{name:"currentPassword",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,type:"password",id:"currentPassword"}),s.currentPassword&&t.currentPassword&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.currentPassword})]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"newPassword",children:"New Password"}),(0,a.jsx)(v.D0,{name:"newPassword",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,type:"password",id:"newPassword"}),s.newPassword&&t.newPassword&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.newPassword})]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,a.jsx)(v.D0,{name:"confirmPassword",children:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(N.p,{...r,type:"password",id:"confirmPassword"}),s.confirmPassword&&t.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:s.confirmPassword})]})}})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,a.jsx)(m.$,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(m.$,{type:"submit",disabled:o,children:o?"Saving...":"Save ".concat(c?"Password":"Changes")})]})]})}})]})};r(54813);let S={name:"",email:"",phone_number:"",date_of_birth:""},V=e=>{let[s,r]=(0,t.useState)(!1),[l,d]=(0,t.useState)(null!=e?e:S),{name:i,email:n,phone_number:o,date_of_birth:c,display_image_url:x}=null!=l?l:S;return(0,a.jsx)(f.Zp,{className:"border-0 shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden rounded-2xl bg-white",children:(0,a.jsxs)(f.Wu,{className:"flex items-center md:flex-row flex-col gap-8 p-8",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)(u,{className:"h-28 w-28 border-4 border-white shadow-lg",children:[(0,a.jsx)(h,{src:x?R.MAIN_URL+x:"user/avatar-photo.jpg",alt:i,loading:"lazy",className:"object-cover"}),(0,a.jsx)(p,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-xl",children:i?i.charAt(0).toUpperCase():"U"})]})}),(0,a.jsxs)("div",{className:"flex-1 flex items-center md:items-start flex-col space-y-1.5",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:i||"Welcome"}),(0,a.jsxs)("div",{className:"space-y-1 mt-1",children:[n&&(0,a.jsxs)("p",{className:"text-gray-600 flex items-center gap-2",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,a.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,a.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),n]}),o&&(0,a.jsxs)("p",{className:"text-gray-600 flex items-center gap-2",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),o]}),c&&(0,a.jsxs)("p",{className:"text-gray-600 flex items-center gap-2",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),c]})]})]}),(0,a.jsxs)(g.cj,{open:s,onOpenChange:r,children:[(0,a.jsx)(g.CG,{asChild:!0,children:(0,a.jsxs)(m.$,{variant:"outline",className:"flex items-center gap-2 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-700 hover:bg-blue-100 hover:text-blue-800 transition-all duration-300 px-5 py-2 rounded-lg shadow-sm",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),"Edit Profile"]})}),(0,a.jsxs)(g.h,{children:[(0,a.jsx)(g.Fm,{children:(0,a.jsx)(g.qp,{children:"Edit Profile"})}),(0,a.jsx)("div",{className:"h-full overflow-y-scroll py-6",children:(0,a.jsx)(F,{user:l,setUser:d,onClose:()=>r(!1)})})]})]})]})})};var z=r(48173),U=r.n(z),D=r(85217),E=r(51719);let I=D.bL,W=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(D.q7,{ref:s,className:(0,d.cn)("border-b",r),...t})});W.displayName="AccordionItem";let O=t.forwardRef((e,s)=>{let{className:r,children:t,...l}=e;return(0,a.jsx)(D.Y9,{className:"flex",children:(0,a.jsxs)(D.l9,{ref:s,className:(0,d.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...l,children:[t,(0,a.jsx)(E.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});O.displayName=D.l9.displayName;let B=t.forwardRef((e,s)=>{let{className:r,children:t,...l}=e;return(0,a.jsx)(D.UC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,a.jsx)("div",{className:(0,d.cn)("pb-4 pt-0",r),children:t})})});B.displayName=D.UC.displayName;let J=(0,r(40652).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Y(e){let{className:s,variant:r,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)(J({variant:r}),s),...t})}let H=e=>{let{orders:s}=e,r=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),t=e=>{switch(e){case"Delivered":return"bg-green-100 text-green-800 border-green-200";case"Shipped":return"bg-blue-100 text-blue-800 border-blue-200";case"Processing":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-6",children:"Order History"}),(!Array.isArray(s)||0===s.length)&&(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-100",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"No orders found"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Your order history will appear here"})]}),(0,a.jsx)(I,{type:"single",collapsible:!0,className:"w-full space-y-4",children:Array.isArray(s)&&s.map(e=>(0,a.jsxs)(W,{value:e.id,className:"border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 bg-white",children:[(0,a.jsx)(O,{className:"hover:no-underline px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-gray-100 p-2 rounded-full",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,a.jsxs)("span",{className:"font-medium text-gray-800 text-sm md:text-base",children:["Order #",e.id.substring(0,8),"..."]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[(0,a.jsx)(Y,{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(t(e.status)),children:e.status}),(0,a.jsx)("span",{className:"text-gray-500 text-xs md:text-sm",children:r(e.created_at)})]})]})}),(0,a.jsx)(B,{children:(0,a.jsx)("div",{className:"border-t border-gray-100",children:(0,a.jsxs)("div",{className:"space-y-4 p-6",children:[(0,a.jsx)("div",{className:"grid gap-4",children:e.items.map(s=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-2 pb-3 border-b border-gray-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 text-sm md:text-base",children:s.product_name}),(0,a.jsxs)("p",{className:"text-xs md:text-sm text-gray-500 mt-1",children:["Quantity: ",s.quantity]})]}),(0,a.jsxs)("p",{className:"font-medium text-gray-800 text-sm md:text-base",children:["₹","string"==typeof e.total&&Number(s.total_price).toFixed(2)]})]},null==s?void 0:s.id))}),(0,a.jsxs)("div",{className:"flex justify-between pt-4 border-t border-gray-100",children:[(0,a.jsx)("span",{className:"font-bold text-gray-800 text-sm md:text-base",children:"Total"}),(0,a.jsxs)("span",{className:"font-bold text-gray-800 text-sm md:text-base",children:["₹","string"==typeof e.total&&Number(e.total).toFixed(2)]})]}),(0,a.jsx)("div",{className:"w-full flex justify-end mt-4",children:(0,a.jsxs)(U(),{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 hover:bg-blue-100 transition-colors px-5 py-2.5 rounded-lg font-medium border border-blue-200 text-xs md:text-sm",href:"/order-confirmation?order_id=".concat(e.id),children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Order"]})})]})})})]},e.id))})]})};var $=r(33473),Z=r(7728);let G=e=>{let{open:s,onOpenChange:r,form:t,button:l,title:d}=e;return(0,a.jsxs)(g.cj,{open:s,onOpenChange:r,children:[(0,a.jsx)(g.CG,{asChild:!0,children:l}),(0,a.jsxs)(g.h,{children:[(0,a.jsx)(g.Fm,{children:(0,a.jsx)(g.qp,{children:d})}),(0,a.jsx)("div",{className:"h-full overflow-y-scroll py-6",children:t})]})]})};var T=r(45686),K=r(20241);let Q=e=>{let[s,r]=(0,t.useState)(!1),{remove:l}=(0,_.A)(R.MAIN_URL),{toast:d}=(0,K.dj)(),{id:i,address_type:n,is_default:o,street_address:c,apartment:x,city:u,state:h,postal_code:p,country:g}=e,v=async s=>{let r=await l("".concat(R.r9).concat(s,"/"));if(null==r?void 0:r.id)e.setAddresses(e=>e.filter(e=>e.id!==s)),d({title:"Address deleted",description:"The address has been removed from your account."});else{var a;d({title:"Error",variant:"destructive",description:null===(a=JSON.parse(r))||void 0===a?void 0:a.detail})}};return(0,a.jsx)("div",{children:(0,a.jsx)(f.Zp,{className:"border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:(0,a.jsxs)(f.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 text-base sm:text-lg",children:n}),o&&(0,a.jsx)(Y,{className:"bg-blue-100 text-blue-700 border border-blue-200 hover:bg-blue-200 px-2 py-0.5 text-xs rounded-full",children:"Default"})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(G,{open:s,onOpenChange:r,title:"Edit Address",form:(0,a.jsx)(Z.A,{setAddresses:null==e?void 0:e.setAddresses,address:{...e},onClose:r}),button:(0,a.jsx)(m.$,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-blue-50 hover:text-blue-600 transition-colors",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})}),(0,a.jsx)(m.$,{variant:"ghost",size:"icon",onClick:()=>v(i),className:"rounded-full hover:bg-red-50 hover:text-red-600 transition-colors",children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"mt-0.5",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700 leading-relaxed",children:[c,!!x&&(0,a.jsxs)("span",{children:[(0,a.jsx)("br",{}),x]}),(0,a.jsx)("br",{}),u,", ",h," ",p,(0,a.jsx)("br",{}),g]})})]})})]})},i)})},X=e=>{var s;let[r,l]=(0,t.useState)(!1),[d,i]=(0,t.useState)(null!==(s=null==e?void 0:e.addresses)&&void 0!==s?s:[]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Saved Addresses"}),(0,a.jsx)(G,{open:r,onOpenChange:l,title:"Add New Address",form:(0,a.jsx)(Z.A,{setAddresses:i,onClose:l}),button:(0,a.jsxs)(m.$,{variant:"outline",className:"flex items-center gap-2 bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200 transition-all duration-300 rounded-lg shadow-sm",children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),"Add New Address"]})})]}),(!Array.isArray(d)||0===d.length)&&(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-100",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"No addresses found"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Add a new address to get started"})]}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:Array.isArray(d)&&d.map(e=>(0,a.jsx)(Q,{setAddresses:i,...e},e.id))})]})};var ee=r(18474);let es=e=>{let{wishlist:s}=e,{toast:r}=(0,K.dj)(),{create:l,loading:d,error:i}=(0,_.A)(R.MAIN_URL),{remove:n}=(0,_.A)(R.MAIN_URL),[o,c]=(0,t.useState)(s),x=async(e,s)=>{let a=R.WS+"?wishlist_id=".concat(e),t=await n(a);(null==t?void 0:t.status)&&(c(s=>[...s.filter(s=>s.id!==e)]),r({title:"Removed from wishlist",description:"".concat(s," has been removed from your wishlist.")}))},u=(e,s)=>{l(R.l$,{product_id:e,quantity:1}),r({title:"Added to cart",description:"".concat(s," has been added to your cart.")})};return(0,a.jsxs)("div",{className:"space-y-6 relative",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-6",children:"Wishlist"}),(!Array.isArray(o)||0===o.length)&&(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-100",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"Your wishlist is empty"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Items you save to your wishlist will appear here"})]}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.isArray(o)&&o.map(e=>{var s,r,t,l,d;return(0,a.jsxs)(f.Zp,{className:"overflow-hidden rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:R.MAIN_URL+(null==e?void 0:null===(s=e.product)||void 0===s?void 0:s.image),alt:null==e?void 0:null===(r=e.product)||void 0===r?void 0:r.name,className:"w-full h-52 object-cover"}),(0,a.jsx)(m.$,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white hover:text-red-600 transition-colors shadow-sm",onClick:()=>{var s;return x(null==e?void 0:e.id,null==e?void 0:null===(s=e.product)||void 0===s?void 0:s.name)},children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(f.Wu,{className:"p-5",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800 line-clamp-1 text-sm md:text-base",children:null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.name}),(0,a.jsxs)("p",{className:"text-base font-bold text-gray-900 mt-1",children:["₹","string"==typeof(null==e?void 0:null===(l=e.product)||void 0===l?void 0:l.price)&&Number(null==e?void 0:null===(d=e.product)||void 0===d?void 0:d.price).toFixed(2)]})]}),(0,a.jsxs)(m.$,{className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white transition-colors rounded-lg py-2",onClick:()=>{var s,r;return u(null==e?void 0:null===(s=e.product)||void 0===s?void 0:s.id,null==e?void 0:null===(r=e.product)||void 0===r?void 0:r.name)},children:[(0,a.jsx)(ee.A,{className:"h-4 w-4"}),"Add to Cart"]})]})]},e.product.id)})})]})};var er=r(65236),ea=r(76046),et=r(72e3),el=r(2615);let ed=()=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[(0,a.jsx)("div",{className:"w-48 h-8 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"w-28 h-10 bg-gray-200 rounded-lg"})]}),(0,a.jsx)("div",{className:"border-0 shadow-md rounded-2xl bg-white overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8 flex items-center md:flex-row flex-col gap-8",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-28 w-28 rounded-full bg-gray-200"})}),(0,a.jsxs)("div",{className:"flex-1 flex items-center md:items-start flex-col space-y-3",children:[(0,a.jsx)("div",{className:"w-40 h-6 bg-gray-200 rounded-lg"}),(0,a.jsxs)("div",{className:"space-y-2 mt-1 w-full",children:[(0,a.jsx)("div",{className:"w-56 h-4 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"w-48 h-4 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"w-40 h-4 bg-gray-200 rounded-lg"})]})]}),(0,a.jsx)("div",{className:"w-32 h-10 bg-gray-200 rounded-lg"})]})}),(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"grid w-full grid-cols-3 lg:w-auto mb-6 rounded-xl bg-gray-100/80 p-1.5",children:[(0,a.jsx)("div",{className:"rounded-lg h-10 bg-white"}),(0,a.jsx)("div",{className:"rounded-lg h-10 bg-transparent"}),(0,a.jsx)("div",{className:"rounded-lg h-10 bg-transparent"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"w-40 h-6 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-xl overflow-hidden shadow-sm bg-white",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-gray-200 p-2 rounded-full w-9 h-9"}),(0,a.jsx)("div",{className:"w-32 h-5 bg-gray-200 rounded-lg"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"w-20 h-5 bg-gray-200 rounded-full"}),(0,a.jsx)("div",{className:"w-24 h-5 bg-gray-200 rounded-lg"})]})]})})},e))})]})})]})})]})})}),ei=()=>{let{toast:e}=(0,K.dj)(),s=(0,ea.useRouter)(),{read:r,error:l,loading:d,data:x}=(0,_.A)(R.MAIN_URL),{create:u,error:h,loading:p}=(0,_.A)(R.MAIN_URL),{data:g,status:f}=(0,el.useSession)(),j=async()=>{var r;(0,el.signOut)({callbackUrl:"/auth/login"}),u(R.aq,{refresh:null==g?void 0:null===(r=g.user)||void 0===r?void 0:r.refresh}),e({title:"Logged out successfully",description:"You have been logged out of your account."}),s.replace("/")};return((0,t.useEffect)(()=>{"authenticated"===f&&r(R.qt)},[f]),d)?(0,a.jsx)(et.default,{children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)(ed,{})})}):(0,a.jsx)(et.default,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 tracking-tight",children:"My Account"}),(0,a.jsxs)(m.$,{variant:"destructive",onClick:j,className:"flex items-center gap-2 shadow-sm hover:shadow-md transition-all duration-300 px-5 py-2 rounded-lg",children:[(0,a.jsx)(er.A,{className:"h-4 w-4"}),"Logout"]})]}),(0,a.jsx)(V,{...null==x?void 0:x.user}),(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsxs)(i,{defaultValue:"orders",className:"w-full",children:[(0,a.jsxs)(n,{className:"grid w-full grid-cols-3 lg:w-auto mb-6 rounded-xl bg-gray-100/80 p-1.5",children:[(0,a.jsx)(o,{value:"orders",className:"rounded-lg text-sm font-medium",children:"Orders"}),(0,a.jsx)(o,{value:"addresses",className:"rounded-lg text-sm font-medium",children:"Addresses"}),(0,a.jsx)(o,{value:"wishlist",className:"rounded-lg text-sm font-medium",children:"Wishlist"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsx)(c,{value:"orders",className:"mt-0 pt-2",children:(0,a.jsx)(H,{orders:null==x?void 0:x.orders})}),(0,a.jsx)(c,{value:"addresses",className:"mt-0 pt-2",children:(0,a.jsx)(X,{addresses:null==x?void 0:x.shipping_address})}),(0,a.jsx)(c,{value:"wishlist",className:"mt-0 pt-2",children:(0,a.jsx)(es,{wishlist:null==x?void 0:x.wishlist})})]})]})})]})})})}},56870:(e,s,r)=>{"use strict";r.d(s,{CG:()=>c,Fm:()=>p,cj:()=>o,h:()=>h,qp:()=>g});var a=r(95155),t=r(12115),l=r(66217),d=r(40652),i=r(40767),n=r(29602);let o=l.bL,c=l.l9;l.bm;let m=l.ZL,x=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t,ref:s})});x.displayName=l.hJ.displayName;let u=(0,d.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=t.forwardRef((e,s)=>{let{side:r="right",className:t,children:d,...o}=e;return(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)(u({side:r}),t),...o,children:[d,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=l.UC.displayName;let p=e=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...r})};p.displayName="SheetHeader";let g=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold text-foreground",r),...t})});g.displayName=l.hE.displayName,t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...t})}).displayName=l.VY.displayName},54813:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[7532,1688,2615,8397,9074,9930,9795,320,2445,4843,9516,3499,5714,5018,8441,1517,7358],()=>s(69246)),_N_E=e.O()}]);